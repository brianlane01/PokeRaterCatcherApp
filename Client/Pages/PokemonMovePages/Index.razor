@page "/PokemonMove"
@using PokemonCatcherGame.Shared.Models.PokemonMoveModels
@attribute [Authorize]
@inject HttpClient httpClient
@inject NavigationManager navigation

@code{
    private IEnumerable<PokemonMoveListItem> _pokeMoves;

    protected override async Task OnInitializedAsync()
    {
        _pokeMoves = await httpClient.GetFromJsonAsync<List<PokemonMoveListItem>>("/api/PokemonMove");
    }
}

@if(_pokeMoves == null)
{
    <p><em>Loading......</em></p>
}
else
{
    <br />
    <table class="table table-striped table-dark table-hover table-bordered border-danger">
        <thead>
            <tr class="text-center">
                <th class="text-center">Move Id</th>
                <th>Move Name</th>
                <th>Move Description</th>
                <th>What would you like to do?</th>
            </tr>
        </thead>
        <tbody>
            @foreach(var pokeMove in _pokeMoves)
            {
                <tr class="text-center">
                    <td class="text-center"><strong>@pokeMove.Id</strong></td>
                    <td><strong>@pokeMove.MoveName</strong></td>
                    <td><strong>@pokeMove.MoveDescription</strong></td>
                    <td>
                        <a href=@($"PokemonMove/{pokeMove.Id}")>Details</a>
                        <a href=@($"PokemonMove/Edit/{pokeMove.Id}")>Edit</a>
                        <a href=@($"PokemonMove/Delete/{pokeMove.Id}")>Delete</a>
                    </td>
                </tr>
            }
        </tbody>
    </table>
    <br />
    <a href ="/PokemonMove/Create">Create A New Pokemon Move</a>
}